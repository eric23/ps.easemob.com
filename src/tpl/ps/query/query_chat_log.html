<div class="bg-light lter b-b wrapper-md">
    <h1 class="m-n font-thin h3" translate="aside.nav.ps.query.CHAT_LOG"></h1>
</div>
<div class="wrapper-md" ng-controller="LogController">
    <!-- toaster directive -->
    <toaster-container toaster-options="{'position-class': 'toast-bottom-right', 'showCloseButton': false, 'time-out': 4000}"></toaster-container>

    <tabset class="tab-container" ng-init="steps={percent:0, step1:true, step2:false}">
        <!-- Step 1 Start -->
        <tab heading="{{'app.common.STEPS_1' | translate}}" active="steps.step1" select="steps.percent=0">
            <progressbar value="steps.percent" class="progress-xs" type="success"></progressbar>

            <div class="row">
                <div class="col-sm-12">
                    <form name="step1" class="form-horizontal form-validation">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <strong translate="api.common.STEP1"></strong>
                            </div>
                            <div class="panel-body" id="api_properties">
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="api.common.SERVER"></label>
                                    <div class="col-sm-8">
                                        <select name="server" class="form-control" ng-model="config.server" required>
                                            <option ng-repeat="server in config.servers">{{server}}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.ORG"></label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" ng-model="config.org" required>
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.APP"></label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" ng-model="config.app" required>
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.KEYWORD"></label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" ng-model="config.keyword" required>
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.DATE"></label>
                                    <div class="col-sm-8">
                                        <select name="server" class="form-control" ng-model="config.date" required>
                                            <option value="1" translate="query.log.1DAYS"></option>
                                            <option value="3" translate="query.log.3DAYS"></option>
                                            <option value="7" translate="query.log.7DAYS"></option>
                                            <option value="15" translate="query.log.15DAYS"></option>
                                            <option value="30" translate="query.log.30DAYS"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.ONLYONE"></label>
                                    <div class="col-sm-8">
                                        <select name="server" class="form-control" ng-model="config.onlyone" required>
                                            <option value="y" translate="query.log.YES"></option>
                                            <option value="n" translate="query.log.NO"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.MAX"></label>
                                    <div class="col-sm-8">
                                        <select name="server" class="form-control" ng-model="config.pages" required>
                                            <option value="10">1000</option>
                                            <option value="50">5000</option>
                                            <option value="100">10000</option>
                                            <option value="-1" translate="query.log.UNLIMITED"></option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <footer class="panel-footer text-right bg-light lter">
                                <button type="submit" ng-disabled="step1.$invalid" class="btn btn-default btn-rounded" ng-click="steps.step2=true" translate="app.common.NEXT"></button>
                            </footer>
                        </div>
                    </form>
                </div>
            </div>
        </tab>
        <!-- Step 1 End -->

        <!-- Step 2 Start -->
        <tab heading="{{'app.common.STEPS_2' | translate}}" disabled="step1.$invalid" active="steps.step2" select="steps.percent=50">
            <progressbar value="steps.percent" class="progress-xs" type="success"></progressbar>

            <div class="row">
                <div class="col-sm-12">
                    <form name="step2" class="form-horizontal form-validation">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <strong translate="api.common.STEP2"></strong>
                            </div>
                            <div class="panel-body" id="api_properties_output">
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="api.common.SERVER"></label>
                                    <div class="col-sm-8">
                                        {{config.server}}
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.ORG"></label>
                                    <div class="col-sm-8">
                                        {{config.org}}
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.APP"></label>
                                    <div class="col-sm-8">
                                        {{config.app}}
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.KEYWORD"></label>
                                    <div class="col-sm-8">
                                        {{config.keyword}}
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.DATE"></label>
                                    <div class="col-sm-8">
                                        {{config.date}}
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.ONLYONE"></label>
                                    <div class="col-sm-8">
                                        {{config.onlyone}}
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="query.log.MAX"></label>
                                    <div class="col-sm-8">
                                        {{config.pages * 100}}
                                    </div>
                                </div>
                            </div>
                            <footer class="panel-footer text-right bg-light lter">
                                <button type="button" class="btn btn-default btn-rounded" ng-click="steps.step1=true" translate="app.common.PREVIOUS"></button>
                                <button type="button" class="btn btn-default btn-rounded" ng-click="done()" translate="app.common.DONE"></button>
                            </footer>
                        </div>
                    </form>
                </div>
            </div>
        </tab>
        <!-- Step 2 End -->

        <!-- Step 3 Start -->
        <tab heading="{{'app.common.STEPS_3' | translate}}" disabled="step1.$invalid" active="steps.step3">
            <div class="row">
                <div class="col-sm-12">
                    <form name="step2" class="form-horizontal form-validation">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <strong translate="api.common.STEP3"></strong>
                            </div>
                            <div class="panel-body" id="api_request_output">
                                <div class="form-group">
                                    <label class="col-sm-2 control-label" translate="api.common.RESPONSE"></label>
                                    <div class="col-sm-8">
                                        <pre>{{response}}</pre>
                                    </div>
                                </div>
                                <div class="line line-dashed b-b line-lg pull-in"></div>
                            </div>
                            <footer class="panel-footer text-right bg-light lter">
                                <button type="button" class="btn btn-default btn-rounded" ng-click="steps.step2=true" translate="app.common.PREVIOUS"></button>
                                <button type="button" class="btn btn-default btn-rounded" ng-click="exit()" translate="app.common.EXIT"></button>
                            </footer>
                        </div>
                    </form>
                </div>
            </div>
        </tab>
        <!-- Step 3 End -->
    </tabset>
</div>